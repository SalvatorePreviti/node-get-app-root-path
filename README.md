# node-get-app-root-path

Gets a node application root and provides manipulation functions for modules cache.

# API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [setAppRootPath](#setapprootpath)
    -   [Parameters](#parameters)
-   [getAppRootPath](#getapprootpath)
-   [getModule](#getmodule)
    -   [Parameters](#parameters-1)
-   [makeModuleUnloadable](#makemoduleunloadable)
    -   [Parameters](#parameters-2)
-   [unloadModule](#unloadmodule)
    -   [Parameters](#parameters-3)
-   [unloadAllModules](#unloadallmodules)
-   [shortenPath](#shortenpath)
    -   [Parameters](#parameters-4)

## setAppRootPath

Sets the app root path value

### Parameters

-   `value` **([string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) \| [undefined](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined))** The new app root path value.

Returns **void** 

## getAppRootPath

Gets the app root path (the root folder for the application)

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The app root path, the root folder for the application

## getModule

Gets the "module" object for the given module or file name

### Parameters

-   `module` **([string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) | NodeJS.Module | {filename: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)})** The module
-   `canRequire` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** True if the module can be loaded if it does not exists (optional, default `true`)

Returns **(NodeJS.Module | [undefined](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined))** The NodeJS module object.

## makeModuleUnloadable

Makes a module unloadable.
Useful to override proxyquire behaviour or other scripts that tries to unload modules.

### Parameters

-   `module` **(NodeJS.Module | [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String))** The module to make unloadable
-   `exports` **any** If not undefined, overrides the module.exports (optional, default `undefined`)

Returns **(NodeJS.Module | [undefined](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined))** The module

## unloadModule

Unloads a module.

### Parameters

-   `module` **([string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) | NodeJS.module)** The module to unload

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** True if the module was unloaded, false if not

## unloadAllModules

Unload all NodeJS modules (except the unloadable modules)

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The total number of unloaded modules

## shortenPath

Given an absolute path, returns the shortest path to the app root path.
This function does nothing if the given path is not absolute.

### Parameters

-   `file` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The path to relativize.

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The relativize or absolute path (depending which one is shorter)
